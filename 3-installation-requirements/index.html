
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../2-freeradius-how-to-work/">
      
      
        <link rel="next" href="../4-configuration-requirements/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.4">
    
    
      
        <title>安装要求 - FreeRADIUS Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.8608ea7d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#-" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="FreeRADIUS Documentation" class="md-header__button md-logo" aria-label="FreeRADIUS Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            FreeRADIUS Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              安装要求
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="FreeRADIUS Documentation" class="md-nav__button md-logo" aria-label="FreeRADIUS Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    FreeRADIUS Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    主页
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../1-freeradius-introduce/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    简介
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../2-freeradius-how-to-work/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    工作原理
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    安装要求
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    安装要求
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#30" class="md-nav__link">
    <span class="md-ellipsis">
      3.0 安装选项
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#301" class="md-nav__link">
    <span class="md-ellipsis">
      3.0.1 服务器生命周期
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#302" class="md-nav__link">
    <span class="md-ellipsis">
      3.0.2 依赖性
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#303-freeradius" class="md-nav__link">
    <span class="md-ellipsis">
      3.0.3 下载FreeRADIUS二进制包
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#freeradius" class="md-nav__link">
    <span class="md-ellipsis">
      FreeRADIUS源代码
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#31-freeradius" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 安装FreeRADIUS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.1 安装FreeRADIUS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#311-ubuntu" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.1 从预构建的二进制包安装（在Ubuntu上）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3111-debian" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.1.1 基于Debian的系统
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3112-ubuntu" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.1.2 Ubuntu系统防火墙
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#312-redhat" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.2 从预构建的二进制包安装（在RedHat上）
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3121-redhat" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.2.1 RedHat系统防火墙
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#313" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.3 从源代码安装
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3131" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.3.1 模块
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3132" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.3.2 验证安装
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3133" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.3.3 安装概述
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../4-configuration-requirements/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    配置指南
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../5-glossary-of-terms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    术语表
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../6-Frequently-Asked-Questions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#30" class="md-nav__link">
    <span class="md-ellipsis">
      3.0 安装选项
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#301" class="md-nav__link">
    <span class="md-ellipsis">
      3.0.1 服务器生命周期
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#302" class="md-nav__link">
    <span class="md-ellipsis">
      3.0.2 依赖性
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#303-freeradius" class="md-nav__link">
    <span class="md-ellipsis">
      3.0.3 下载FreeRADIUS二进制包
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#freeradius" class="md-nav__link">
    <span class="md-ellipsis">
      FreeRADIUS源代码
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#31-freeradius" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 安装FreeRADIUS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.1 安装FreeRADIUS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#311-ubuntu" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.1 从预构建的二进制包安装（在Ubuntu上）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3111-debian" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.1.1 基于Debian的系统
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3112-ubuntu" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.1.2 Ubuntu系统防火墙
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#312-redhat" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.2 从预构建的二进制包安装（在RedHat上）
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3121-redhat" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.2.1 RedHat系统防火墙
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#313" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.3 从源代码安装
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3131" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.3.1 模块
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3132" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.3.2 验证安装
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3133" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.3.3 安装概述
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="-">第三章 - 安装要求</h1>
<p>本章内容描述：</p>
<ul>
<li>安装选项</li>
<li>安装FreeRADIUS</li>
</ul>
<p>本章节中使用的FreeRADIUS版本是2.2.1，所有说明和示例均基于此版本。</p>
<p>本章还包括关于以下内容的建议：</p>
<ul>
<li>安装前的需求和关键流程规划</li>
<li>预构建的安装包</li>
<li>从源代码安装</li>
</ul>
<p>详细的实现和安装流程可参阅FreeRADIUS实现指南。<br />
还提供了FreeRADIUS参考指南，包含有关配置文件的详细信息，以及帮助解决常见安装和配置问题。</p>
<h3 id="30">3.0 安装选项</h3>
<p>安装FreeRADIUS的最简单方法是使用可用的预构建二进制包。二进制包可用于Ubuntu或Debian基础系统以及RedHat基础系统。</p>
<p>对于非Linux系统，可以编译并安装FreeRADIUS源代码；然而，除非有网络管理员专家可以提供支持，否则不推荐使用此安装方法。请联系Network RADIUS SARL（电子邮件：SALES@NetworkRadius.com）以获取帮助规划和安装源代码的选项。Network RADIUS SARL还提供专家顾问服务，帮助规划和实施FreeRADIUS源代码客户安装。</p>
<h3 id="301">3.0.1 服务器生命周期</h3>
<p>本节描述如何规划服务器的完整生命周期。</p>
<p>安装是服务器生命周期中的第一步，并且安装后，持续的服务器进程包括测试、维护和审计。因此，安装服务器的过程应当考虑到服务器的完整生命周期。</p>
<p>构建服务器的第一步是设计周围的生态系统。这个生态系统包括服务器所需的数据库、与服务器通信的外部NAS，以及网络配置等其他因素。</p>
<p>设计复杂的系统可能会很困难，超出了本文档的范围。重要的是要注意，RADIUS服务器需要完成包括“响应一个或两个数据包”的操作目标，不能仅仅通过简单的“响应”来实现。</p>
<p>生态系统的架构对于性能和稳定性至关重要。例如，如果RADIUS服务器需要轻松接收每秒成千上万的<strong>Accounting-Request</strong>数据包，则系统需要能够处理那些数据包（如将数据包传输到数据库），并且需要能够处理一定数量的这些数据包，可能是每秒几个数据包。</p>
<p>一旦系统设计完成，下一步是安装和配置基本服务。此过程确保服务器正常运行并准备好处理流量。<br />
安装过程将在下面详细介绍。</p>
<p>安装后，系统需要配置以便持续运行。配置过程包括检查日志文件是否轮换，旧记录是否从账单表中清除，是否已配置定期备份，并确保监控和告警系统就位。目标是确保系统稳定，并且可以在没有管理员持续干预的情况下运行。</p>
<p>配置系统后，下一步是测试。</p>
<p>测试应该是自动化的并有文档记录。系统应当经过性能、合规性、稳定性和处理边缘条件的能力的测试。所有监控和告警过程应经过测试，以确保警报按预期生成。正确的测试能够确保最坏的结果——警报系统未能生成警报——在必要时避免发生。</p>
<p>理想情况下，应该有一个“实验室”系统，仅用于测试，和一个“生产”系统用于实时流量。在系统首次启动时，在其投入使用前，应该进行一轮“验收”测试。测试完成后，若做了任何变更，必须在实验室系统中进行验证，确保变更已生效，之后再推送到生产环境。如果没有遵循此过程，任何变更推送到生产系统可能会导致服务中断，对持续运行产生严重后果。</p>
<p>所有更改都应在版本控制系统中跟踪。这样做可以确保，如果生产环境出现问题，可以恢复到“已知正常”的配置。它还允许生产配置复制到另一个系统以实现冗余和高可用性。</p>
<p>当系统达到生命周期的终点时，新系统应按上述步骤进行安装，然后旧系统将被停用。我们建议在新系统投入使用后，继续保留旧系统一段时间。与无法恢复到“已知正常”的配置相比，保留旧系统的成本相对较低。</p>
<p>上述描述是对RADIUS服务器生命周期的简短介绍。更详细的文档请参阅Network RADIUS SARL提供的文档。</p>
<h3 id="302">3.0.2 依赖性</h3>
<p>任何LDAP和SQL依赖性都需要各自的客户端库来与LDAP或SQL服务器通信。预构建的FreeRADIUS包不包含这些外部依赖项。</p>
<p>从源代码安装需要一个有效的C编译器，例如GNU编译器集合或Clang，以及GNU Make工具。如果您的系统没有安装这些工具，则configure过程将失败并报错。为了解决此问题，请安装这些工具，并重新运行configure。建议尽可能使用预构建的安装包。</p>
<h3 id="303-freeradius">3.0.3 下载FreeRADIUS二进制包</h3>
<p>可以从第三方网站下载适用于多种平台的二进制包。以下链接提供了第三方网站的相关信息：<a href="http://freeradius.org/download.html">http://freeradius.org/download.html</a>。</p>
<h3 id="freeradius">FreeRADIUS源代码</h3>
<p>不推荐从源代码进行安装。如果您选择从源代码安装，我们建议联系Network RADIUS SARL寻求帮助。</p>
<p>对于任何非Linux系统，建议编译并安装FreeRADIUS源代码，而不是使用预构建的二进制包。其他需要安装源代码的原因包括：</p>
<ul>
<li>系统没有可用的预构建安装包</li>
<li>安装实验模块</li>
<li>对源代码进行本地更改（不推荐）</li>
</ul>
<p>最新的FreeRADIUS源代码可以从<a href="http://freeradius.org">http://freeradius.org</a>下载。下载源代码，请按照以下说明操作：</p>
<ol>
<li>点击下载（Download）链接进入下载页面。</li>
<li>点击tar.gz链接。</li>
<li>保存文件到磁盘。</li>
</ol>
<h3 id="31-freeradius">3.1 安装FreeRADIUS</h3>
<h4 id="311-ubuntu">3.1.1 从预构建的二进制包安装（在Ubuntu上）</h4>
<p>Ubuntu系统使用apt工具套件来查找和安装软件包。以下命令将查找与FreeRADIUS相关的所有软件包：</p>
<pre><code class="language-bash">$ apt-cache search freeradius
</code></pre>
<p>上面的Ubuntu搜索返回以下软件包：</p>
<ul>
<li><strong>freeradius</strong> - 高性能可配置的RADIUS服务器</li>
<li><strong>freeradius-common</strong> - FreeRADIUS公共文件</li>
<li><strong>freeradius-dbg</strong> - FreeRADIUS包的调试符号</li>
<li><strong>libfreeradius-dev</strong> - FreeRADIUS共享库开发文件</li>
<li><strong>libfreeradius2</strong> - FreeRADIUS共享库</li>
<li><strong>freeradius-dialupadmin</strong> - 用于管理FreeRADIUS服务器的PHP脚本集</li>
<li><strong>freeradius-iodbc</strong> - FreeRADIUS服务器的ODBC模块</li>
<li><strong>freeradius-krb5</strong> - FreeRADIUS服务器的Kerberos模块</li>
<li><strong>freeradius-ldap</strong> - FreeRADIUS服务器的LDAP模块</li>
<li><strong>freeradius-mysql</strong> - FreeRADIUS服务器的MySQL模块</li>
<li><strong>freeradius-postgresql</strong> - FreeRADIUS服务器的PostgreSQL模块</li>
<li><strong>freeradius-utils</strong> - FreeRADIUS客户端工具</li>
<li><strong>libfreeradius3</strong> - FreeRADIUS共享库</li>
</ul>
<p>第一个包（freeradius）是基础服务器。典型配置所需的所有模块都将通过此包进行安装。其他包是可选模块，添加了如LDAP或MySQL等功能。</p>
<p>可以根据需要向基础服务器添加任何其他软件包。安装附加软件包不会影响FreeRADIUS服务器的操作性能或内存使用。</p>
<p>FreeRADIUS服务器也可以通过以下命令安装并作为守护进程运行：</p>
<pre><code class="language-bash">$ sudo apt-get install freeradius
</code></pre>
<p>如果服务器未投入使用（生产环境），则可以通过调试模式停止服务，而不会产生负面影响，使用以下命令：</p>
<pre><code class="language-bash">$ sudo service freeradius stop
</code></pre>
<p>本文件的其余部分假定FreeRADIUS二进制文件可在<strong>PATH</strong>环境变量中找到。运行服务器的命令在本文中称为<strong>radiusd</strong>。</p>
<h3 id="3111-debian">3.1.1.1 基于Debian的系统</h3>
<p>在基于Debian的系统中，可能会有一些不同。某些基于Debian的系统将二进制文件称为<strong>freeradius</strong>，而不是<strong>radiusd</strong>。可以通过以下命令创建别名：</p>
<ol>
<li>更改目录到<strong>/usr/sbin</strong>：</li>
</ol>
<pre><code class="language-bash">$ cd /usr/sbin
</code></pre>
<ol>
<li>创建符号链接：</li>
</ol>
<pre><code class="language-bash">$ sudo ln -s freeradius radiusd
</code></pre>
<blockquote>
<p>本文件假定读者已经熟悉各种配置文件的位置。在基于Debian的系统中，配置文件位于<code>/etc/freeradius</code>目录下。本文档提到的配置文件目录是<code>/raddb</code>，而不是<code>/etc/freeradius</code>。</p>
</blockquote>
<h3 id="3112-ubuntu">3.1.1.2 Ubuntu系统防火墙</h3>
<p>最近版本的Ubuntu系统具有防火墙功能。为了允许RADIUS流量到达服务器，必须添加防火墙规则。以下规则允许来自任何系统的包通过防火墙发送到RADIUS服务器：</p>
<ol>
<li>添加防火墙规则，允许RADIUS认证请求通过1812端口：</li>
</ol>
<pre><code class="language-bash">$ ufw allow 1812/udp
</code></pre>
<ol>
<li>添加防火墙规则，允许RADIUS计费请求通过1813端口：</li>
</ol>
<pre><code class="language-bash">$ ufw allow 1813/udp
</code></pre>
<ol>
<li>为了验证规则是否已正确安装，请运行以下命令：</li>
</ol>
<pre><code class="language-bash">$ ufw status | grep 181
</code></pre>
<p>监视器上应该出现以下确认信息：</p>
<pre><code>1812/udp             ALLOW       Anywhere
1813/udp             ALLOW       Anywhere
</code></pre>
<p>上述规则允许接收来自任何系统的数据包。然而，所有不在内部RADIUS服务器系统列表中的数据包将被排除，因此RADIUS服务器不会被妥协。服务器的默认防火墙设置是忽略所有外部数据包，只允许来自localhost的数据包。</p>
<h3 id="312-redhat">3.1.2 从预构建的二进制包安装（在RedHat上）</h3>
<p>RedHat系统使用<code>yum</code>工具来查找和安装软件包。运行以下命令以查找与FreeRADIUS相关的所有软件包：</p>
<pre><code class="language-bash">$ yum search freeradius
</code></pre>
<p>搜索找到以下软件包。请注意，某些列表可能会因系统不同而略有差异：</p>
<ul>
<li><strong>freeradius</strong> - FreeRADIUS服务器</li>
<li><strong>freeradius-mysql</strong> - MySQL绑定支持FreeRADIUS</li>
<li><strong>freeradius-postgresql</strong> - PostgreSQL绑定支持FreeRADIUS</li>
<li><strong>freeradius-unixODBC</strong> - Unix ODBC绑定支持FreeRADIUS</li>
<li><strong>freeradius2</strong> - FreeRADIUS服务器</li>
<li><strong>freeradius2-krb5</strong> - Kerberos 5支持FreeRADIUS</li>
<li><strong>freeradius2-ldap</strong> - LDAP支持FreeRADIUS</li>
<li><strong>freeradius2-mysql</strong> - MySQL支持FreeRADIUS</li>
<li><strong>freeradius2-perl</strong> - Perl支持FreeRADIUS</li>
<li><strong>freeradius2-postgresql</strong> - PostgreSQL支持FreeRADIUS</li>
<li><strong>freeradius2-python</strong> - Python支持FreeRADIUS</li>
<li><strong>freeradius2-unixODBC</strong> - Unix ODBC支持FreeRADIUS</li>
<li><strong>freeradius2-utils</strong> - FreeRADIUS工具</li>
</ul>
<p>上面列出的第一个包（<strong>freeradius</strong>）是版本1的基础服务器。为了安装版本2，建议安装<strong>freeradius2</strong>包，该包安装了典型配置所需的所有模块。</p>
<p>其他软件包是可选模块，增加了如LDAP或MySQL等功能。可以根据需要添加多个可选软件包。安装软件包不会影响FreeRADIUS服务器的性能或内存使用。</p>
<p>要安装FreeRADIUS服务器并以守护进程运行，请使用以下命令：</p>
<pre><code class="language-bash">$ sudo yum install freeradius2
</code></pre>
<p>如果服务器未投入使用（生产环境），则可以随时通过调试模式停止服务，并运行以下命令：</p>
<pre><code class="language-bash">$ sudo service freeradius stop
</code></pre>
<blockquote>
<p>本文件的其余部分假定FreeRADIUS二进制文件可在<strong>PATH</strong>环境变量中找到。<br />
在基于RedHat的系统中，二进制文件被称为<strong>radiusd</strong>。只有超级用户才能执行以下部分的命令。</p>
<p>本文件的其余部分假定读者已经熟悉各种配置文件的位置。<br />
在基于RedHat的系统中，配置文件被放置在<code>/etc/raddb</code>目录中。本文档提到的是<code>raddb</code>目录，而不是<code>/etc/raddb</code>。</p>
</blockquote>
<h3 id="3121-redhat">3.1.2.1 RedHat系统防火墙</h3>
<p>最近版本的RedHat系统具有防火墙功能。网络管理员必须添加以下规则，以允许RADIUS流量到达服务器。</p>
<ol>
<li>添加防火墙规则，允许RADIUS认证请求通过1812端口：</li>
</ol>
<pre><code class="language-bash">$ iptables -A INPUT -p udp --dport 1812 -j ACCEPT
</code></pre>
<ol>
<li>添加防火墙规则，允许RADIUS计费请求通过1813端口：</li>
</ol>
<pre><code class="language-bash">$ iptables -A INPUT -p udp --dport 1813 -j ACCEPT
</code></pre>
<ol>
<li>为了验证规则是否已安装，请运行以下命令：</li>
</ol>
<pre><code class="language-bash">$ iptables -L -n | grep 181
</code></pre>
<p>上述规则允许接收来自任何系统的数据包。然而，所有未包含在内部RADIUS服务器系统列表中的数据包都被排除，因此RADIUS服务器不会受到威胁。服务器的默认防火墙设置是忽略所有外部数据包，只允许来自<strong>localhost</strong>的数据包。</p>
<p>这些规则允许任何系统将数据包发送到RADIUS服务器。允许服务器接收来自任何系统的数据包不会妥协RADIUS服务器，因为服务器有一个系统列表，其中列出了它被允许接收数据包的系统。服务器的默认防火墙设置是忽略所有外部数据包，只允许来自<strong>localhost</strong>的数据包。</p>
<h3 id="313">3.1.3 从源代码安装</h3>
<p>尽管可以从源代码安装FreeRADIUS，但对于大多数实现来说，不推荐使用这种方法。</p>
<p>从源代码安装需要大量专业知识。除非您有内部专家，否则建议使用预构建的选项。如果您没有内部专家，但有独特的安装要求，并且需要定制安装，建议联系Network Radius SARL寻求源代码安装支持（电子邮件：SALES@NetworkRadius.com）。</p>
<p>在安装FreeRADIUS之前，请以root身份登录。<code>make install</code>过程会将服务器安装到<code>/usr/local/</code>目录中。以下步骤将安装FreeRADIUS程序：</p>
<pre><code class="language-bash">$ tar -zxf freeradius-server-2.2.1.tar.gz
$ cd freeradius-server-2.2.1
$ ./configure
$ make
$ sudo make install
</code></pre>
<p>要更改服务器的安装位置，请使用以下命令：</p>
<pre><code class="language-bash">$ ./configure --prefix=/opt
</code></pre>
<blockquote>
<p>请参阅<code>./configure --help</code>以了解<code>configure</code>可用的完整选项列表。</p>
<p>当从源代码安装时，如果使用了扩展认证协议（EAP）用于WiFi、WiMAX或802.1x，则需要创建测试证书。安装预构建的包时，不需要创建测试证书。</p>
</blockquote>
<h3 id="3131">3.1.3.1 模块</h3>
<p>配置过程构建所有可能的模块。它通过查看freeRADIUS代码（例如，rlm_sql）并确定模块需要的外部库（例如，SQL客户端库）来完成。如果依赖项可用，则构建该模块。如果缺少依赖项，则该模块不会构建。如果某些模块在该时刻不可用，服务器仍然会运行。然而，缺少的模块可能会影响功能性（例如，MySQL可能不可用）。</p>
<p>大多数可选模块，如MySQL，都是从客户端库和开发头文件安装到用户的系统上的。由于系统之间的差异，本文档无法涵盖所有可能的排列。推荐尽可能使用预构建的系统特定包。</p>
<h3 id="3132">3.1.3.2 验证安装</h3>
<p>要验证FreeRADIUS安装，运行服务器的调试模式。如果系统安装正确，屏幕上将显示一大段以“Ready to process requests.”结尾的文本。这条消息表示FreeRADIUS服务器已成功安装。以下是验证消息的示例：</p>
<pre><code class="language-bash">$ radiusd -X
...
Listening on authentication address * port 1812
Listening on accounting address * port 1813
Listening on authentication address 127.0.0.1 port 18120 as server inner-tunnel
Listening on proxy address * port 1814
Ready to process requests.
</code></pre>
<blockquote>
<p>本文档的其余部分假定FreeRADIUS二进制文件可在<strong>PATH</strong>环境变量中找到。<br />
本文档的其余部分假定读者熟悉各种配置文件的位置。请注意，本文档指的是<code>raddb</code>目录，而不是<code>/usr/local/etc/raddb</code>。</p>
</blockquote>
<h3 id="3133">3.1.3.3 安装概述</h3>
<p>安装过程是容错的。我们不推荐在生产系统上重新安装服务器，尽管这是可能的。同样，构建过程可以根据需要多次重新运行，而不会导致任何问题；因此，重新运行构建过程是安全的。</p>
<p>基础功能使服务器能够执行计费功能，同时支持PAP、CHAP、MS-CHAP和少数几种EAP身份验证类型。安装服务器不会覆盖您的配置。</p>
<p>一个可能出现的问题是构建后缺少依赖项。FreeRADIUS服务器的设计目标是尽量减少外部依赖项的数量；因此，如果某个第三方库不可用，则使用该库的任何功能都不可用。当服务器被构建时，它包括本地系统上可用的任何库，例如SQL、LDAP，如果它们存在于本地。如果发现构建后缺少所需的依赖项，则必须在本地系统上安装适当的第三方库。
这是文件内容的翻译：</p>
<p>如果在完成安装后需要添加第三方库，只需在新库安装到服务器后重新运行构建过程。这个过程可以根据需要重复多次，直到所有第三方库的安装完成。</p>
<hr />












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.f1b6f286.min.js"></script>
      
    
  </body>
</html>